{"version":3,"sources":["components/Button.jsx","components/Header.jsx","components/BackButton.jsx","layouts/DefaultLayout.jsx","components/SecondaryButton.js","pages/Home.jsx","redux/game/gameTypes.js","redux/timer/timerTypes.js","redux/board/boardTypes.js","redux/board/boardActions.js","redux/alert/alertTypes.js","redux/alert/alertActions.js","utils/timerHelper.js","redux/history/historyTypes.js","redux/game/gameActions.js","redux/timer/timerActions.js","redux/history/historyActions.js","components/Memory/MemoryItem.jsx","components/Memory/MemoryBoard.jsx","components/Memory/MemoryTimer.jsx","pages/Memory.jsx","components/Alert.jsx","components/History/HistoryListEmpty.jsx","components/History/HistoryList.jsx","pages/History.jsx","App.jsx","redux/types.js","data/cards.js","utils/gameHelpers.js","redux/game/gameInitialState.js","redux/game/gameReducer.js","redux/timer/timerInitialState.js","redux/timer/timerReducer.js","utils/boardHelpers.js","redux/board/boardInitialState.js","redux/board/boardReducer.js","redux/alert/alertInitialState.js","redux/alert/alertReducer.js","redux/history/historyInitialState.js","redux/history/historyReducer.js","redux/rootReducer.js","index.js"],"names":["Button","title","onClick","className","Header","left","center","right","BackButton","children","history","useHistory","style","paddingLeft","e","preventDefault","push","cursor","DefaultLayout","location","useLocation","pathname","textAlign","SecondaryButton","Home","START_SESSION","END_SESSION","RELOAD_CARD_TO_FIND","FOUND_CARD","SET_ACTIVE_ITEM","INIT_TIMER","CLOSE_TIMER","INCREMENT_TIME","DROP_TIME","GENERATE_BOARD","OPEN_ITEM","CLOSE_ITEM","closeItems","items","dispatch","setTimeout","forEach","item","type","payload","closeItem","SHOW_ALERT","HIDE_ALERT","showAlert","alert","convertTimeToMinutesAndSeconds","time","m","Math","floor","s","ADD_GAME_TO_HISTORY","startGame","getState","game","timer","gameSessionIsExist","interval","setInterval","initTimer","pauseGame","clearInterval","endGame","content","clickItem","card","openItem","active","setActiveItem","value","cardsToFind","length","MemoryItem","open","useDispatch","isOpen","BoardRow","row","map","index","MemoryBoard","board","useSelector","state","useState","setOpen","useEffect","MemoryTimer","marginBottom","Memory","Alert","show","HistoryListEmpty","HistoryListItem","HistoryList","games","History","App","useRouteMatch","path","DEFAULT","cards","Array","fill","_","generateCardsToFind","gameInitialState","reducers","filter","timerInitialState","generateCleanBoard","el","setItemOnBoard","positions","rand","random","splice","x","y","generateItem","changeItemOnBoard","newRow","newBoard","boardInitialState","col","alertInitialState","historyInitialState","rootReducer","combineReducers","action","reducer","store","createStore","compose","applyMiddleware","thunk","app","basename","process","rootElement","document","getElementById","render"],"mappings":"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","file":"static/js/main.3105b47b.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const Button = ({ title, onClick }) => (\r\n  <button onClick={onClick} className=\"button\">{title}</button>\r\n);\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\n\r\nexport const Header = ({ left, center, right }) => {\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"header__left\">{left}</div>\r\n      <div className=\"header__center\">{center}</div>\r\n      <div className=\"header__right\">{right}</div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport const BackButton = ({children}) => {\r\n    const history = useHistory();\r\n\r\n    const onClick = (e) => {\r\n        e.preventDefault();\r\n\r\n        history.push('/');\r\n    }\r\n\r\n    return (\r\n        <div style={{paddingLeft: 16}} onClick={onClick}><span style={{cursor: \"pointer\"}}>{children || \"Назад\"}</span></div>\r\n    );\r\n}","import {useLocation} from 'react-router-dom';\r\n\r\nimport {Header} from \"../components/Header\";\r\nimport {BackButton} from \"../components/BackButton\";\r\n\r\nimport './DefaultLayout.css'\r\n\r\nexport const DefaultLayout = ({children}) => {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <div className=\"default-layout\">\r\n      <Header\r\n        left={location.pathname !== '/' ? <BackButton/> : null}\r\n        center={<h2 style={{textAlign: \"center\"}}>Memory</h2>}/>\r\n      <div className=\"default-layout__content\">\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\n\r\nexport const SecondaryButton = ({ title, onClick }) => (\r\n  <button onClick={onClick} className=\"button button--secondary\">{title}</button>\r\n);","import {useHistory} from \"react-router-dom\";\r\nimport {Button} from \"../components/Button\";\r\nimport {DefaultLayout} from \"../layouts/DefaultLayout\";\r\n\r\nimport \"./Home.css\";\r\nimport {SecondaryButton} from \"../components/SecondaryButton\";\r\n\r\nexport const Home = () => {\r\n  const history = useHistory();\r\n\r\n  const onClickPlayHandler = (e) => {\r\n    e.preventDefault();\r\n    history.push('/memory');\r\n  }\r\n\r\n  const onClickHistoryHandler = (e) => {\r\n    e.preventDefault();\r\n    history.push('/history');\r\n  }\r\n\r\n  return (\r\n    <DefaultLayout>\r\n      <div className=\"home\">\r\n        <h3 className=\"home__title\">\r\n          Добро пожаловать! <br/> Хотите начать игру?\r\n        </h3>\r\n        <div className=\"home__btns\">\r\n          <Button\r\n            onClick={onClickPlayHandler}\r\n            title=\"Играть\"/>\r\n          <SecondaryButton\r\n            onClick={onClickHistoryHandler}\r\n            title=\"История игр\"/>\r\n        </div>\r\n      </div>\r\n    </DefaultLayout>\r\n  );\r\n};\r\n","export const START_SESSION = \"game/START_SESSION\";\r\nexport const END_SESSION = \"game/END_SESSION\";\r\n\r\nexport const RELOAD_CARD_TO_FIND = \"game/RELOAD_CARD_TO_FIND\";\r\nexport const FOUND_CARD = \"game/FOUND_CARD\";\r\n\r\nexport const SET_ACTIVE_ITEM = \"game/SET_ACTIVE_ITEM\";","export const INIT_TIMER = \"timer/INIT_TIMER\";\r\nexport const CLOSE_TIMER = \"timer/CLOSE_TIMER\";\r\nexport const INCREMENT_TIME = \"timer/INCREMENT_TIME\";\r\nexport const DROP_TIME = \"timer/DROP_TIME\";","export const GENERATE_BOARD = \"board/GENERATE_BOARD\";\r\n\r\nexport const OPEN_ITEM = \"board/OPEN_ITEM\";\r\nexport const CLOSE_ITEM = \"board/CLOSE_ITEM\";","import {CLOSE_ITEM, GENERATE_BOARD, OPEN_ITEM} from \"./boardTypes\";\r\n\r\nexport function generateBoard() {\r\n  return {\r\n    type: GENERATE_BOARD\r\n  };\r\n}\r\n\r\nexport function openItem(item) {\r\n  return {\r\n    type: OPEN_ITEM,\r\n    payload: item\r\n  }\r\n}\r\n\r\nexport function closeItems(items) {\r\n  return (dispatch) => {\r\n    setTimeout(() => {\r\n      items.forEach(item => {\r\n        dispatch(closeItem(item));\r\n      });\r\n    }, 500);\r\n  }\r\n}\r\n\r\nexport function closeItem(item) {\r\n  return {\r\n    type: CLOSE_ITEM,\r\n    payload: item\r\n  }\r\n}","export const SHOW_ALERT = \"alert/SHOW_ALERT\";\r\nexport const HIDE_ALERT = \"alert/HIDE_ALERT\";","import {HIDE_ALERT, SHOW_ALERT} from \"./alertTypes\";\r\n\r\nexport function showAlert(alert) {\r\n  return (dispatch) => {\r\n    dispatch({type: SHOW_ALERT, payload: alert});\r\n    setTimeout(() => dispatch(hideAlert()), 5000)\r\n  }\r\n}\r\n\r\nexport function hideAlert() {\r\n  return {\r\n    type: HIDE_ALERT\r\n  }\r\n}","export const convertTimeToMinutesAndSeconds = (time) => {\r\n  const m = Math.floor(time / 60);\r\n  const s = time % 60;\r\n\r\n  return `${m < 10 ? `0${m}` : m}:${s < 10 ? `0${s}` : s}`;\r\n}","export const ADD_GAME_TO_HISTORY = \"history/ADD_GAME_TO_HISTORY\";","import {END_SESSION, FOUND_CARD, RELOAD_CARD_TO_FIND, SET_ACTIVE_ITEM, START_SESSION} from \"./gameTypes\";\r\nimport {closeTimer, dropTime, incrementTime, initTimer} from \"../timer/timerActions\";\r\nimport {generateBoard, openItem, closeItems} from \"../board/boardActions\";\r\nimport {showAlert} from \"../alert/alertActions\";\r\nimport {convertTimeToMinutesAndSeconds} from \"../../utils/timerHelper\";\r\nimport {addGameToHistory} from \"../history/historyActions\";\r\n\r\n// TODO: Переписать\r\nexport function startGame() {\r\n  return (dispatch, getState) => {\r\n    const {game, timer} = getState();\r\n\r\n    if (!game.gameSessionIsExist) {\r\n      dispatch(startSession());\r\n      dispatch(reloadCardsToFind());\r\n      dispatch(generateBoard());\r\n    }\r\n\r\n    if (!timer.interval) {\r\n      const interval = setInterval(() => dispatch(incrementTime()), 1000);\r\n      dispatch(initTimer(interval));\r\n    }\r\n  }\r\n}\r\n\r\nexport function pauseGame() {\r\n  return (dispatch, getState) => {\r\n    const {timer} = getState();\r\n    clearInterval(timer.interval);\r\n    dispatch(closeTimer());\r\n  }\r\n}\r\n\r\nexport function endGame() {\r\n  return (dispatch, getState) => {\r\n    const {timer} = getState();\r\n\r\n    dispatch(pauseGame());\r\n    dispatch(showAlert({title: \"Победа!\", content: `Вы нашли все карточка за ${convertTimeToMinutesAndSeconds(timer.time)}`}))\r\n    dispatch(addGameToHistory(timer.time));\r\n    dispatch(dropTime());\r\n    dispatch(endSession());\r\n  }\r\n}\r\n\r\nexport function startSession() {\r\n  return {\r\n    type: START_SESSION\r\n  }\r\n}\r\n\r\nexport function endSession() {\r\n  return {\r\n    type: END_SESSION\r\n  }\r\n}\r\n\r\nexport function clickItem(item) {\r\n  return (dispatch, getState) => {\r\n    const {game} = getState();\r\n\r\n    dispatch(openItem(item));\r\n\r\n    if (!game.active) {\r\n      dispatch(setActiveItem((item)));\r\n      return null;\r\n    }\r\n\r\n    if (game.active.card.value === item.card.value) {\r\n      dispatch(foundCard(item.card));\r\n      dispatch(checkFinishGame());\r\n    } else {\r\n      dispatch(closeItems([game.active, item]));\r\n    }\r\n\r\n    dispatch(setActiveItem(null));\r\n  }\r\n}\r\n\r\nexport function reloadCardsToFind() {\r\n  return {\r\n    type: RELOAD_CARD_TO_FIND\r\n  }\r\n}\r\n\r\nexport function foundCard(card) {\r\n  return {\r\n    type: FOUND_CARD,\r\n    payload: card\r\n  }\r\n}\r\n\r\nexport function checkFinishGame() {\r\n  return (dispatch, getState) => {\r\n    const {game} = getState();\r\n    if (game.cardsToFind.length === 0) {\r\n      dispatch(endGame());\r\n    }\r\n  }\r\n}\r\n\r\nexport function setActiveItem(item) {\r\n  return {\r\n    type: SET_ACTIVE_ITEM,\r\n    payload: item\r\n  }\r\n}","import {CLOSE_TIMER, DROP_TIME, INCREMENT_TIME, INIT_TIMER} from \"./timerTypes\";\r\n\r\nexport function initTimer(interval) {\r\n  return {\r\n    type: INIT_TIMER,\r\n    payload: interval\r\n  }\r\n}\r\n\r\nexport function closeTimer() {\r\n  return {\r\n    type: CLOSE_TIMER\r\n  }\r\n}\r\n\r\nexport function incrementTime() {\r\n  return {\r\n    type: INCREMENT_TIME\r\n  }\r\n}\r\n\r\nexport function dropTime() {\r\n  return {\r\n    type: DROP_TIME\r\n  }\r\n}","import {ADD_GAME_TO_HISTORY} from \"./historyTypes\";\r\n\r\nexport function addGameToHistory(time) {\r\n  return {\r\n    type: ADD_GAME_TO_HISTORY,\r\n    payload: {time}\r\n  }\r\n}","import React from \"react\";\r\n\r\nimport './MemoryItem.css';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {clickItem} from \"../../redux/game/gameActions\";\r\n\r\nexport const MemoryItem = ({open, item}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  if (!item)\r\n    return null;\r\n\r\n  const onClickHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!open && !item.isOpen) {\r\n      dispatch(clickItem(item));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"memory-item\" onClick={onClickHandler}>\r\n      {open || item.isOpen ? item.card.value : null}\r\n    </div>\r\n  )\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {MemoryItem} from \"./MemoryItem\";\r\n\r\nimport \"./MemoryBoard.css\";\r\n\r\nconst BoardRow = ({open, row}) => {\r\n  return (\r\n    <div className=\"board__row\">\r\n      {row.map((item, index) => <MemoryItem open={open} item={item} key={index}/>)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const MemoryBoard = () => {\r\n  const board = useSelector(state => state.board.board);\r\n  const [open, setOpen] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => setOpen(false), 3000)\r\n  });\r\n\r\n  return (\r\n    <div className=\"board\">\r\n      {board.map((row, index) => <BoardRow open={open} row={row} key={index}/>)}\r\n    </div>\r\n  );\r\n}","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {convertTimeToMinutesAndSeconds} from \"../../utils/timerHelper\";\r\n\r\nexport const MemoryTimer = () => {\r\n  const time = useSelector(state => state.timer.time);\r\n\r\n  return (\r\n    <div>\r\n      <h3 style={{marginBottom: 32}}>Времени уже прошло: {convertTimeToMinutesAndSeconds(time)} </h3>\r\n    </div>\r\n  )\r\n}","import React, {useEffect} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {DefaultLayout} from \"../layouts/DefaultLayout\";\r\nimport {MemoryBoard} from \"../components/Memory/MemoryBoard\";\r\nimport {MemoryTimer} from \"../components/Memory/MemoryTimer\";\r\nimport './Memory.css';\r\n\r\nexport const Memory = () => {\r\n\r\n  const {gameSessionIsExist} = useSelector(state => state.game);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (!gameSessionIsExist) {\r\n      history.push('/');\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [gameSessionIsExist]);\r\n\r\n  return (\r\n    <DefaultLayout>\r\n      <div className=\"memory\">\r\n        <MemoryTimer/>\r\n        <MemoryBoard/>\r\n      </div>\r\n    </DefaultLayout>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./Alert.css\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nexport const Alert = () => {\r\n  const alert = useSelector(state => state.alert);\r\n\r\n  if (!alert.show) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"alert-wrapper\">\r\n      <div className=\"alert\">\r\n        <h3 className=\"alert__title\">\r\n          {alert.title}\r\n        </h3>\r\n        <div className=\"alert__content\">\r\n          {alert.content}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import React from \"react\";\r\n\r\nexport const HistoryListEmpty = () => <div>У вас ещё нет законченных игр</div>","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {HistoryListEmpty} from \"./HistoryListEmpty\";\r\nimport {convertTimeToMinutesAndSeconds} from \"../../utils/timerHelper\";\r\n\r\nconst HistoryListItem = ({index, game}) => {\r\n  return (\r\n    <div>\r\n      <p><span><b>{(index + 1)}.</b></span> {convertTimeToMinutesAndSeconds(game.time)}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const HistoryList = () => {\r\n\r\n  const {games} = useSelector(state => state.history);\r\n\r\n  if (games.length === 0) {\r\n    return <HistoryListEmpty/>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"history-list\">\r\n      {games.map((game, index) => <HistoryListItem index={index} game={game} />)}\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport {DefaultLayout} from \"../layouts/DefaultLayout\";\r\nimport './History.css';\r\nimport {HistoryList} from \"../components/History/HistoryList\";\r\n\r\nexport const History = () => {\r\n  return (\r\n    <DefaultLayout>\r\n      <div className=\"history\">\r\n        <h3 className=\"history__title\">\r\n          Список сыгранных вами игр\r\n        </h3>\r\n        <div className=\"history__content\">\r\n          <HistoryList/>\r\n        </div>\r\n      </div>\r\n    </DefaultLayout>\r\n  )\r\n}","import React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Switch, Route, useRouteMatch} from \"react-router-dom\";\r\nimport {Home} from \"./pages/Home\";\r\nimport {Memory} from \"./pages/Memory\";\r\nimport {Alert} from \"./components/Alert\";\r\nimport {pauseGame, startGame} from \"./redux/game/gameActions\";\r\nimport \"./styles.css\";\r\nimport {History} from \"./pages/History\";\r\n\r\nexport const App = () => {\r\n\r\n  const dispatch = useDispatch();\r\n  const isMemory = useRouteMatch(\"/memory\");\r\n\r\n  dispatch(isMemory ? startGame() : pauseGame());\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Alert/>\r\n      <Switch>\r\n        <Route path=\"/history\">\r\n          <History/>\r\n        </Route>\r\n        <Route path=\"/memory\">\r\n          <Memory/>\r\n        </Route>\r\n        <Route path=\"/\">\r\n          <Home/>\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n","export const DEFAULT = \"DEFAULT\";","const cards = [];\r\n\r\nnew Array(18).fill(\"\").forEach((_, index) => {\r\n  cards.push({\r\n    value: index + 1\r\n  });\r\n});\r\n\r\nexport default cards;\r\n","import cards from \"../data/cards\";\r\n\r\nexport const generateCardsToFind = () => [...cards];","import {generateCardsToFind} from \"../../utils/gameHelpers\";\r\n\r\nexport const gameInitialState = {\r\n  gameSessionIsExist: false,\r\n  cardsToFind: generateCardsToFind(),\r\n  active: null, // Активный элемент\r\n};","import {DEFAULT} from \"../types\";\r\nimport {END_SESSION, FOUND_CARD, RELOAD_CARD_TO_FIND, SET_ACTIVE_ITEM, START_SESSION} from \"./gameTypes\";\r\nimport {gameInitialState} from \"./gameInitialState\";\r\nimport {generateCardsToFind} from \"../../utils/gameHelpers\";\r\n\r\nconst reducers = {\r\n  [DEFAULT]: (state) => {\r\n    return state;\r\n  },\r\n\r\n  [START_SESSION]: (state) => ({...state, gameSessionIsExist: true}),\r\n  [END_SESSION]: (state) => ({...state, gameSessionIsExist: false}),\r\n  [RELOAD_CARD_TO_FIND]: (state) => ({...state, cardsToFind: generateCardsToFind()}),\r\n  [FOUND_CARD]: (state, payload) => ({...state, cardsToFind: state.cardsToFind.filter(card => card.value !== payload.value)}),\r\n  [SET_ACTIVE_ITEM]: (state, payload) => ({...state, active: payload}),\r\n};\r\n\r\nexport const gameReducer = (state = gameInitialState, action) => {\r\n  const reducer = reducers[action.type] || reducers[DEFAULT];\r\n\r\n  return reducer(state, action.payload);\r\n};","export const timerInitialState = {\r\n    time: 0,\r\n    interval: null\r\n};","import {timerInitialState} from \"./timerInitialState\";\r\nimport {DEFAULT} from \"../types\";\r\nimport {CLOSE_TIMER, DROP_TIME, INCREMENT_TIME, INIT_TIMER} from \"./timerTypes\";\r\n\r\nconst reducers = {\r\n    [DEFAULT]: state => {\r\n        return state;\r\n    },\r\n\r\n    [INIT_TIMER]: (state, payload) => ({...state, interval: payload}),\r\n    [CLOSE_TIMER]: (state) => ({...state, interval: null}),\r\n    [INCREMENT_TIME]: (state) => ({...state, time: state.time + 1}),\r\n    [DROP_TIME]: (state) => ({...state, time: 0}),\r\n};\r\n\r\nexport const timerReducer = (state = timerInitialState, action) => {\r\n    const reducer = reducers[action.type] || reducers[DEFAULT];\r\n\r\n    return reducer(state, action.payload);\r\n}","\r\nconst generateItem = (x, y, card) => ({isOpen: false, x, y, card});\r\n\r\nexport const generateCleanBoard = () => {\r\n  return new Array(6)\r\n    .fill(null)\r\n    .map((el) => new Array(6).fill(null));\r\n}\r\n\r\nexport const setItemOnBoard = (board, positions, card) => {\r\n  let rand = Math.floor(Math.random() * positions.length);\r\n  let [x, y] = positions.splice(rand, 1)[0];\r\n  board[x][y] = generateItem(x, y, card);\r\n};\r\n\r\nexport const changeItemOnBoard = (board, item) => {\r\n  const newRow = [...board[item.x]]\r\n  newRow[item.y] = item;\r\n  const newBoard = [...board];\r\n  newBoard[item.x] = newRow;\r\n  return newBoard;\r\n};","import {generateCleanBoard} from \"../../utils/boardHelpers\";\r\n\r\nexport const boardInitialState = {\r\n  board: generateCleanBoard(),\r\n};","import {boardInitialState} from \"./boardInitialState\";\r\nimport {DEFAULT} from \"../types\";\r\nimport {CLOSE_ITEM, GENERATE_BOARD, OPEN_ITEM} from \"./boardTypes\";\r\nimport {changeItemOnBoard, generateCleanBoard, setItemOnBoard} from \"../../utils/boardHelpers\";\r\n\r\nimport cards from \"../../data/cards\";\r\n\r\nconst reducers = {\r\n  [DEFAULT]: (state) => {\r\n    return state;\r\n  },\r\n\r\n  [GENERATE_BOARD]: (state) => {\r\n    const board = generateCleanBoard();\r\n\r\n    const positions = [];\r\n\r\n    board.forEach((row, x) => {\r\n      row.forEach((col, y) => {\r\n        positions.push([x, y])\r\n      })\r\n    })\r\n\r\n    cards.forEach(card => {\r\n      setItemOnBoard(board, positions, card);\r\n      setItemOnBoard(board, positions, card);\r\n    });\r\n\r\n    return {...state, board: board};\r\n  },\r\n\r\n  [OPEN_ITEM]: (state, payload) => {\r\n    const board = changeItemOnBoard(state.board, {...payload, isOpen: true});\r\n    return {...state, board};\r\n  },\r\n  [CLOSE_ITEM]: (state, payload) => {\r\n    const board = changeItemOnBoard(state.board, {...payload, isOpen: false});\r\n    return {...state, board};\r\n  }\r\n};\r\n\r\nexport const boardReducer = (state = boardInitialState, action) => {\r\n  const reducer = reducers[action.type] || reducers[DEFAULT];\r\n\r\n  return reducer(state, action.payload);\r\n}","export const alertInitialState = {\r\n  show: false,\r\n  title: null,\r\n  content: null,\r\n};","import {DEFAULT} from \"../types\";\r\nimport {HIDE_ALERT, SHOW_ALERT} from \"./alertTypes\";\r\nimport {alertInitialState} from \"./alertInitialState\";\r\n\r\n\r\nconst reducers = {\r\n  [DEFAULT]: (state) => {\r\n    return state;\r\n  },\r\n\r\n  [SHOW_ALERT]: (state, payload) => ({...state, ...payload, show: true}),\r\n  [HIDE_ALERT]: (state) => ({...state, show: false})\r\n}\r\n\r\nexport const alertReducer = (state = alertInitialState, action) => {\r\n  const reducer = reducers[action.type] || reducers[DEFAULT];\r\n\r\n  return reducer(state, action.payload);\r\n}","export const historyInitialState = {\r\n  games: []\r\n};","import {historyInitialState} from \"./historyInitialState\";\r\nimport {DEFAULT} from \"../types\";\r\nimport {ADD_GAME_TO_HISTORY} from \"./historyTypes\";\r\n\r\nconst reducers = {\r\n  [DEFAULT]: (state) => {\r\n    return state;\r\n  },\r\n\r\n  [ADD_GAME_TO_HISTORY]: (state, payload) => ({...state, games: [...state.games, payload]}),\r\n};\r\n\r\nexport const historyReducer = (state = historyInitialState, action) => {\r\n  const reducer = reducers[action.type] || reducers[DEFAULT];\r\n\r\n  return reducer(state, action.payload);\r\n};","import {combineReducers} from \"redux\";\r\nimport {gameReducer} from \"./game/gameReducer\";\r\nimport {timerReducer} from \"./timer/timerReducer\";\r\nimport {boardReducer} from \"./board/boardReducer\";\r\nimport {alertReducer} from \"./alert/alertReducer\";\r\nimport {historyReducer} from \"./history/historyReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  game: gameReducer,\r\n  timer: timerReducer,\r\n  board: boardReducer,\r\n\r\n  history: historyReducer,\r\n\r\n  alert: alertReducer\r\n});","import React, {StrictMode} from \"react\";\r\nimport {render} from \"react-dom\";\r\nimport {applyMiddleware, compose, createStore} from \"redux\";\r\nimport {Provider} from \"react-redux\";\r\n\r\nimport {App} from \"./App\";\r\nimport {rootReducer} from \"./redux/rootReducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport {BrowserRouter} from \"react-router-dom\";\r\n\r\nconst store = createStore(rootReducer, compose(\r\n  // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\r\n  applyMiddleware(thunk)\r\n));\r\n\r\nconst app = (\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <Provider store={store}>\r\n      <StrictMode>\r\n        <App/>\r\n      </StrictMode>\r\n    </Provider>\r\n  </BrowserRouter>\r\n);\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nrender(\r\n  app,\r\n  rootElement\r\n);\r\n"],"sourceRoot":""}