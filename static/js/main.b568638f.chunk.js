(this["webpackJsonpreact-creative-memory"]=this["webpackJsonpreact-creative-memory"]||[]).push([[0],{32:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(14),a=n(11),i=n(5),o=n(4),u=n(1),j=function(t){var e=t.title,n=t.onClick;return Object(u.jsx)("button",{onClick:n,className:"button",children:e})},s=(n(32),function(t){var e=t.left,n=t.center,c=t.right;return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"header__left",children:e}),Object(u.jsx)("div",{className:"header__center",children:n}),Object(u.jsx)("div",{className:"header__right",children:c})]})}),l=function(t){var e=t.children,n=Object(o.f)();return Object(u.jsx)("div",{style:{paddingLeft:16},onClick:function(t){t.preventDefault(),n.push("/")},children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:e||"\u041d\u0430\u0437\u0430\u0434"})})},b=(n(35),function(t){var e=t.children,n=Object(o.g)();return Object(u.jsxs)("div",{className:"default-layout",children:[Object(u.jsx)(s,{left:"/"!==n.pathname?Object(u.jsx)(l,{}):null,center:Object(u.jsx)("h2",{style:{textAlign:"center"},children:"Memory"})}),Object(u.jsx)("div",{className:"default-layout__content",children:e})]})}),O=(n(36),function(t){var e=t.title,n=t.onClick;return Object(u.jsx)("button",{onClick:n,className:"button button--secondary",children:e})}),d=function(){var t=Object(o.f)();return Object(u.jsx)(b,{children:Object(u.jsxs)("div",{className:"home",children:[Object(u.jsxs)("h3",{className:"home__title",children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c! ",Object(u.jsx)("br",{})," \u0425\u043e\u0442\u0438\u0442\u0435 \u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443?"]}),Object(u.jsxs)("div",{className:"home__btns",children:[Object(u.jsx)(j,{onClick:function(e){e.preventDefault(),t.push("/memory")},title:"\u0418\u0433\u0440\u0430\u0442\u044c"}),Object(u.jsx)(O,{onClick:function(e){e.preventDefault(),t.push("/history")},title:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0433\u0440"})]})]})})},f=n(17),m=(n(37),"game/START_SESSION"),h="game/END_SESSION",v="game/RELOAD_CARD_TO_FIND",p="game/FOUND_CARD",x="game/SET_ACTIVE_ITEM",y="timer/INIT_TIMER",E="timer/CLOSE_TIMER",_="timer/INCREMENT_TIME",g="timer/DROP_TIME";var T="board/GENERATE_BOARD",N="board/OPEN_ITEM",I="board/CLOSE_ITEM",A="board/REMOVE_ITEM";function D(t){return{type:I,payload:t}}function S(t){return function(e){setTimeout((function(){t.forEach((function(t){e(function(t){return{type:A,payload:t}}(t))}))}),500)}}var M="alert/SHOW_ALERT",C="alert/HIDE_ALERT";function R(t){return function(e){e({type:M,payload:t}),setTimeout((function(){return e({type:C})}),5e3)}}var w=function(t){var e=Math.floor(t/60),n=t%60;return"".concat(e<10?"0".concat(e):e,":").concat(n<10?"0".concat(n):n)},F="history/ADD_GAME_TO_HISTORY";function L(){return function(t,e){var n=e(),c=n.game,r=n.timer;if(c.gameSessionIsExist||(t({type:m}),t({type:v}),t({type:T})),!r.interval){var a=setInterval((function(){return t({type:_})}),1e3);t(function(t){return{type:y,payload:t}}(a))}}}function k(){return function(t,e){var n=e().timer;clearInterval(n.interval),t({type:E})}}function U(){return function(t,e){var n,c=e().timer;t(k()),t(R({title:"\u041f\u043e\u0431\u0435\u0434\u0430!",content:"\u0412\u044b \u043d\u0430\u0448\u043b\u0438 \u0432\u0441\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0437\u0430 ".concat(w(c.time))})),t((n=c.time,{type:F,payload:{time:n}})),t({type:g}),t({type:h})}}function B(t){return function(e,n){var c,r,a=n().game;if(e(function(t){return{type:N,payload:t}}(t)),!a.active){var i=setTimeout((function(){e(H(null)),e(D(t))}),5e3);return e(H(t,i)),null}a.active.card.value===t.card.value?(e((r=t.card,{type:p,payload:r})),e(S([a.active,t])),e((function(t,e){0===e().game.cardsToFind.length&&t(U())}))):e((c=[a.active,t],function(t){setTimeout((function(){c.forEach((function(e){t(D(e))}))}),500)})),clearTimeout(a.activeTimeout),e(H(null))}}function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:x,payload:{item:t,timeout:e}}}var G=function(t){var e=t.open,n=t.item,c=Object(i.b)();if(!n)return null;if(!n.card)return Object(u.jsx)("div",{className:"memory-item memory-item--removed"});return Object(u.jsx)("div",{className:"memory-item",onClick:function(t){t.preventDefault(),e||n.isOpen||c(B(n))},children:e||n.isOpen?n.card.value:null})},J=(n(38),function(t){var e=t.open,n=t.row;return Object(u.jsx)("div",{className:"board__row",children:n.map((function(t,n){return Object(u.jsx)(G,{open:e,item:t},n)}))})}),P=function(){var t=Object(i.c)((function(t){return t.board.board})),e=Object(c.useState)(!0),n=Object(f.a)(e,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){setTimeout((function(){return a(!1)}),3e3)})),Object(u.jsx)("div",{className:"board",children:t.map((function(t,e){return Object(u.jsx)(J,{open:r,row:t},e)}))})},V=function(){var t=Object(i.c)((function(t){return t.timer.time}));return Object(u.jsx)("div",{children:Object(u.jsxs)("h3",{style:{marginBottom:32},children:["\u0412\u0440\u0435\u043c\u0435\u043d\u0438 \u0443\u0436\u0435 \u043f\u0440\u043e\u0448\u043b\u043e: ",w(t)," "]})})},W=(n(39),function(){var t=Object(i.c)((function(t){return t.game})).gameSessionIsExist,e=Object(o.f)();return Object(c.useEffect)((function(){t||e.push("/")}),[t]),Object(u.jsx)(b,{children:Object(u.jsxs)("div",{className:"memory",children:[Object(u.jsx)(V,{}),Object(u.jsx)(P,{})]})})}),Y=(n(40),function(){var t=Object(i.c)((function(t){return t.alert}));return t.show?Object(u.jsx)("div",{className:"alert-wrapper",children:Object(u.jsxs)("div",{className:"alert",children:[Object(u.jsx)("h3",{className:"alert__title",children:t.title}),Object(u.jsx)("div",{className:"alert__content",children:t.content})]})}):null}),q=(n(41),n(42),function(){return Object(u.jsx)("div",{children:"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0451 \u043d\u0435\u0442 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u044b\u0445 \u0438\u0433\u0440"})}),z=function(t){var e=t.index,n=t.game;return Object(u.jsx)("div",{children:Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:Object(u.jsxs)("b",{children:[e+1,"."]})})," ",w(n.time)]})})},K=function(){var t=Object(i.c)((function(t){return t.history})).games;return 0===t.length?Object(u.jsx)(q,{}):Object(u.jsx)("div",{className:"history-list",children:t.map((function(t,e){return Object(u.jsx)(z,{index:e,game:t})}))})},Q=function(){return Object(u.jsx)(b,{children:Object(u.jsxs)("div",{className:"history",children:[Object(u.jsx)("h3",{className:"history__title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u044b\u0433\u0440\u0430\u043d\u043d\u044b\u0445 \u0432\u0430\u043c\u0438 \u0438\u0433\u0440"}),Object(u.jsx)("div",{className:"history__content",children:Object(u.jsx)(K,{})})]})})},X=function(){return Object(i.b)()(Object(o.h)("/memory")?L():k()),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(Y,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/history",children:Object(u.jsx)(Q,{})}),Object(u.jsx)(o.a,{path:"/memory",children:Object(u.jsx)(W,{})}),Object(u.jsx)(o.a,{path:"/",children:Object(u.jsx)(d,{})})]})]})},Z=n(3),$=n(2),tt="DEFAULT",et=n(9),nt=[];new Array(18).fill("").forEach((function(t,e){nt.push({value:e+1})}));var ct,rt,at,it,ot,ut=nt,jt=function(){return Object(et.a)(ut)},st={gameSessionIsExist:!1,cardsToFind:jt(),active:null,activeTimeout:null},lt=(ct={},Object(Z.a)(ct,tt,(function(t){return t})),Object(Z.a)(ct,m,(function(t){return Object($.a)(Object($.a)({},t),{},{gameSessionIsExist:!0})})),Object(Z.a)(ct,h,(function(t){return Object($.a)(Object($.a)({},t),{},{gameSessionIsExist:!1})})),Object(Z.a)(ct,v,(function(t){return Object($.a)(Object($.a)({},t),{},{cardsToFind:jt()})})),Object(Z.a)(ct,p,(function(t,e){return Object($.a)(Object($.a)({},t),{},{cardsToFind:t.cardsToFind.filter((function(t){return t.value!==e.value}))})})),Object(Z.a)(ct,x,(function(t,e){var n=e.item,c=e.timeout;return Object($.a)(Object($.a)({},t),{},{active:n,activeTimeout:c})})),ct),bt={time:0,interval:null},Ot=(rt={},Object(Z.a)(rt,tt,(function(t){return t})),Object(Z.a)(rt,y,(function(t,e){return Object($.a)(Object($.a)({},t),{},{interval:e})})),Object(Z.a)(rt,E,(function(t){return Object($.a)(Object($.a)({},t),{},{interval:null})})),Object(Z.a)(rt,_,(function(t){return Object($.a)(Object($.a)({},t),{},{time:t.time+1})})),Object(Z.a)(rt,g,(function(t){return Object($.a)(Object($.a)({},t),{},{time:0})})),rt),dt=function(){return new Array(6).fill(null).map((function(t){return new Array(6).fill(null)}))},ft=function(t,e,n){var c=Math.floor(Math.random()*e.length),r=Object(f.a)(e.splice(c,1)[0],2),a=r[0],i=r[1];t[a][i]=function(t,e,n){return{isOpen:!1,x:t,y:e,card:n}}(a,i,n)},mt=function(t,e){var n=Object(et.a)(t[e.x]);n[e.y]=e;var c=Object(et.a)(t);return c[e.x]=n,c},ht={board:dt()},vt=(at={},Object(Z.a)(at,tt,(function(t){return t})),Object(Z.a)(at,T,(function(t){var e=dt(),n=[];return e.forEach((function(t,e){t.forEach((function(t,c){n.push([e,c])}))})),ut.forEach((function(t){ft(e,n,t),ft(e,n,t)})),Object($.a)(Object($.a)({},t),{},{board:e})})),Object(Z.a)(at,N,(function(t,e){var n=mt(t.board,Object($.a)(Object($.a)({},e),{},{isOpen:!0}));return Object($.a)(Object($.a)({},t),{},{board:n})})),Object(Z.a)(at,I,(function(t,e){var n=mt(t.board,Object($.a)(Object($.a)({},e),{},{isOpen:!1}));return Object($.a)(Object($.a)({},t),{},{board:n})})),Object(Z.a)(at,A,(function(t,e){var n=mt(t.board,Object($.a)(Object($.a)({},e),{},{card:null}));return Object($.a)(Object($.a)({},t),{},{board:n})})),at),pt={show:!1,title:null,content:null},xt=(it={},Object(Z.a)(it,tt,(function(t){return t})),Object(Z.a)(it,M,(function(t,e){return Object($.a)(Object($.a)(Object($.a)({},t),e),{},{show:!0})})),Object(Z.a)(it,C,(function(t){return Object($.a)(Object($.a)({},t),{},{show:!1})})),it),yt={games:[]},Et=(ot={},Object(Z.a)(ot,tt,(function(t){return t})),Object(Z.a)(ot,F,(function(t,e){return Object($.a)(Object($.a)({},t),{},{games:[].concat(Object(et.a)(t.games),[e])})})),ot),_t=Object(a.b)({game:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,e=arguments.length>1?arguments[1]:void 0,n=lt[e.type]||lt.DEFAULT;return n(t,e.payload)},timer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,e=arguments.length>1?arguments[1]:void 0,n=Ot[e.type]||Ot.DEFAULT;return n(t,e.payload)},board:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,e=arguments.length>1?arguments[1]:void 0,n=vt[e.type]||vt.DEFAULT;return n(t,e.payload)},history:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,e=arguments.length>1?arguments[1]:void 0,n=Et[e.type]||Et.DEFAULT;return n(t,e.payload)},alert:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,e=arguments.length>1?arguments[1]:void 0,n=xt[e.type]||xt.DEFAULT;return n(t,e.payload)}}),gt=n(23),Tt=n(8),Nt=Object(a.d)(_t,Object(a.c)(Object(a.a)(gt.a))),It=Object(u.jsx)(Tt.a,{basename:"/react-creative-memory",children:Object(u.jsx)(i.a,{store:Nt,children:Object(u.jsx)(c.StrictMode,{children:Object(u.jsx)(X,{})})})}),At=document.getElementById("root");Object(r.render)(It,At)}},[[43,1,2]]]);
//# sourceMappingURL=main.b568638f.chunk.js.map