(this["webpackJsonpreact-creative-memory"]=this["webpackJsonpreact-creative-memory"]||[]).push([[0],{32:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(14),a=n(11),i=n(5),o=n(4),u=n(1),j=function(t){var e=t.title,n=t.onClick;return Object(u.jsx)("button",{onClick:n,className:"button",children:e})},s=(n(32),function(t){var e=t.left,n=t.center,c=t.right;return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"header__left",children:e}),Object(u.jsx)("div",{className:"header__center",children:n}),Object(u.jsx)("div",{className:"header__right",children:c})]})}),l=function(t){var e=t.children,n=Object(o.f)();return Object(u.jsx)("div",{onClick:function(t){t.preventDefault(),n.push("/")},children:e||"\u041d\u0430\u0437\u0430\u0434"})},b=(n(35),function(t){var e=t.children,n=Object(o.g)();return Object(u.jsxs)("div",{className:"default-layout",children:[Object(u.jsx)(s,{left:"/"!==n.pathname?Object(u.jsx)(l,{}):null,center:Object(u.jsx)("h2",{style:{textAlign:"center"},children:"Memory"})}),Object(u.jsx)("div",{className:"default-layout__content",children:e})]})}),O=(n(36),function(t){var e=t.title,n=t.onClick;return Object(u.jsx)("button",{onClick:n,className:"button button--secondary",children:e})}),d=function(){var t=Object(o.f)();return Object(u.jsx)(b,{children:Object(u.jsxs)("div",{className:"home",children:[Object(u.jsxs)("h3",{className:"home__title",children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c! ",Object(u.jsx)("br",{})," \u0425\u043e\u0442\u0438\u0442\u0435 \u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443?"]}),Object(u.jsxs)("div",{className:"home__btns",children:[Object(u.jsx)(j,{onClick:function(e){e.preventDefault(),t.push("/memory")},title:"\u0418\u0433\u0440\u0430\u0442\u044c"}),Object(u.jsx)(O,{onClick:function(e){e.preventDefault(),t.push("/history")},title:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0433\u0440"})]})]})})},f=n(17),h=(n(37),"game/START_SESSION"),m="game/END_SESSION",v="game/FOUND_CARD",x="game/SET_ACTIVE_ITEM",p="timer/INIT_TIMER",y="timer/CLOSE_TIMER",E="timer/INCREMENT_TIME",g="timer/DROP_TIME";var _="board/GENERATE_BOARD",N="board/OPEN_ITEM",T="board/CLOSE_ITEM";function I(t){return function(e){setTimeout((function(){t.forEach((function(t){e(function(t){return{type:T,payload:t}}(t))}))}),500)}}var A="alert/SHOW_ALERT",S="alert/HIDE_ALERT";function D(t){return function(e){e({type:A,payload:t}),setTimeout((function(){return e({type:S})}),5e3)}}var M=function(t){var e=Math.floor(t/60),n=t%60;return"".concat(e<10?"0".concat(e):e,":").concat(n<10?"0".concat(n):n)},w="history/ADD_GAME_TO_HISTORY";function C(){return function(t,e){var n=e(),c=n.game,r=n.timer;if(c.gameSessionIsExist||(t({type:h}),t({type:_})),!r.interval){var a=setInterval((function(){return t({type:E})}),1e3);t(function(t){return{type:p,payload:t}}(a))}}}function F(){return function(t,e){var n=e().timer;clearInterval(n.interval),t({type:y})}}function R(){return function(t,e){var n,c=e().timer;t(F()),t(D({title:"\u041f\u043e\u0431\u0435\u0434\u0430!",content:"\u0412\u044b \u043d\u0430\u0448\u043b\u0438 \u0432\u0441\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0437\u0430 ".concat(M(c.time))})),t((n=c.time,{type:w,payload:{time:n}})),t({type:g}),t({type:m})}}function k(t){return function(e,n){var c,r=n().game;if(e(function(t){return{type:N,payload:t}}(t)),!r.active)return e(L(t)),null;r.active.card.value===t.card.value?(e((c=t.card,{type:v,payload:c})),e((function(t,e){0===e().game.cardsToFind.length&&t(R())}))):e(I([r.active,t])),e(L(null))}}function L(t){return{type:x,payload:t}}var U=function(t){var e=t.open,n=t.item,c=Object(i.b)();if(!n)return null;return Object(u.jsx)("div",{className:"memory-item",onClick:function(t){t.preventDefault(),n.isOpen||c(k(n))},children:e||n.isOpen?n.card.value:null})},B=(n(38),function(t){var e=t.open,n=t.row;return Object(u.jsx)("div",{className:"board__row",children:n.map((function(t,n){return Object(u.jsx)(U,{open:e,item:t},n)}))})}),H=function(){var t=Object(i.c)((function(t){return t.board.board})),e=Object(c.useState)(!0),n=Object(f.a)(e,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){setTimeout((function(){return a(!1)}),3e3)})),Object(u.jsx)("div",{className:"board",children:t.map((function(t,e){return Object(u.jsx)(B,{open:r,row:t},e)}))})},G=function(){var t=Object(i.c)((function(t){return t.timer.time}));return Object(u.jsx)("div",{children:Object(u.jsxs)("h3",{style:{marginBottom:32},children:["\u0412\u0440\u0435\u043c\u0435\u043d\u0438 \u0443\u0436\u0435 \u043f\u0440\u043e\u0448\u043b\u043e: ",M(t)," "]})})},J=(n(39),function(){var t=Object(i.c)((function(t){return t.game})).gameSessionIsExist,e=Object(o.f)();return Object(c.useEffect)((function(){t||e.push("/")}),[t]),Object(u.jsx)(b,{children:Object(u.jsxs)("div",{className:"memory",children:[Object(u.jsx)(G,{}),Object(u.jsx)(H,{})]})})}),P=(n(40),function(){var t=Object(i.c)((function(t){return t.alert}));return t.show?Object(u.jsx)("div",{className:"alert-wrapper",children:Object(u.jsxs)("div",{className:"alert",children:[Object(u.jsx)("h3",{className:"alert__title",children:t.title}),Object(u.jsx)("div",{className:"alert__content",children:t.content})]})}):null}),V=(n(41),n(42),function(){return Object(u.jsx)("div",{children:"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0451 \u043d\u0435\u0442 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u044b\u0445 \u0438\u0433\u0440"})}),W=function(t){var e=t.index,n=t.game;return Object(u.jsx)("div",{children:Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:Object(u.jsxs)("b",{children:[e+1,"."]})})," ",M(n.time)]})})},Y=function(){var t=Object(i.c)((function(t){return t.history})).games;return 0===t.length?Object(u.jsx)(V,{}):Object(u.jsx)("div",{className:"history-list",children:t.map((function(t,e){return Object(u.jsx)(W,{index:e,game:t})}))})},q=function(){return Object(u.jsx)(b,{children:Object(u.jsxs)("div",{className:"history",children:[Object(u.jsx)("h3",{className:"history__title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u044b\u0433\u0440\u0430\u043d\u043d\u044b\u0445 \u0432\u0430\u043c\u0438 \u0438\u0433\u0440"}),Object(u.jsx)("div",{className:"history__content",children:Object(u.jsx)(Y,{})})]})})},z=function(){return Object(i.b)()(Object(o.h)("/memory")?C():F()),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(P,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/history",children:Object(u.jsx)(q,{})}),Object(u.jsx)(o.a,{path:"/memory",children:Object(u.jsx)(J,{})}),Object(u.jsx)(o.a,{path:"/",children:Object(u.jsx)(d,{})})]})]})},K=n(3),Q=n(2),X="DEFAULT",Z=n(9),$=[];new Array(18).fill("").forEach((function(t,e){$.push({value:e+1})}));var tt,et,nt,ct,rt,at=$,it={gameSessionIsExist:!1,cardsToFind:Object(Z.a)(at),active:null},ot=(tt={},Object(K.a)(tt,X,(function(t){return t})),Object(K.a)(tt,h,(function(t){return Object(Q.a)(Object(Q.a)({},t),{},{gameSessionIsExist:!0})})),Object(K.a)(tt,m,(function(t){return Object(Q.a)(Object(Q.a)({},t),{},{gameSessionIsExist:!1})})),Object(K.a)(tt,v,(function(t,e){return Object(Q.a)(Object(Q.a)({},t),{},{cardsToFind:t.cardsToFind.filter((function(t){return t.value!==e.value}))})})),Object(K.a)(tt,x,(function(t,e){return Object(Q.a)(Object(Q.a)({},t),{},{active:e})})),tt),ut={time:0,interval:null},jt=(et={},Object(K.a)(et,X,(function(t){return t})),Object(K.a)(et,p,(function(t,e){return Object(Q.a)(Object(Q.a)({},t),{},{interval:e})})),Object(K.a)(et,y,(function(t){return Object(Q.a)(Object(Q.a)({},t),{},{interval:null})})),Object(K.a)(et,E,(function(t){return Object(Q.a)(Object(Q.a)({},t),{},{time:t.time+1})})),Object(K.a)(et,g,(function(t){return Object(Q.a)(Object(Q.a)({},t),{},{time:0})})),et),st=function(){return new Array(6).fill(null).map((function(t){return new Array(6).fill(null)}))},lt=function(t,e,n){var c=Math.floor(Math.random()*e.length),r=Object(f.a)(e.splice(c,1)[0],2),a=r[0],i=r[1];t[a][i]=function(t,e,n){return{isOpen:!1,x:t,y:e,card:n}}(a,i,n)},bt=function(t,e){var n=Object(Z.a)(t[e.x]);n[e.y]=e;var c=Object(Z.a)(t);return c[e.x]=n,c},Ot={board:st()},dt=(nt={},Object(K.a)(nt,X,(function(t){return t})),Object(K.a)(nt,_,(function(t){var e=st(),n=[];return e.forEach((function(t,e){t.forEach((function(t,c){n.push([e,c])}))})),at.forEach((function(t){lt(e,n,t),lt(e,n,t)})),Object(Q.a)(Object(Q.a)({},t),{},{board:e})})),Object(K.a)(nt,N,(function(t,e){var n=bt(t.board,Object(Q.a)(Object(Q.a)({},e),{},{isOpen:!0}));return Object(Q.a)(Object(Q.a)({},t),{},{board:n})})),Object(K.a)(nt,T,(function(t,e){var n=bt(t.board,Object(Q.a)(Object(Q.a)({},e),{},{isOpen:!1}));return Object(Q.a)(Object(Q.a)({},t),{},{board:n})})),nt),ft={show:!1,title:null,content:null},ht=(ct={},Object(K.a)(ct,X,(function(t){return t})),Object(K.a)(ct,A,(function(t,e){return Object(Q.a)(Object(Q.a)(Object(Q.a)({},t),e),{},{show:!0})})),Object(K.a)(ct,S,(function(t){return Object(Q.a)(Object(Q.a)({},t),{},{show:!1})})),ct),mt={games:[]},vt=(rt={},Object(K.a)(rt,X,(function(t){return t})),Object(K.a)(rt,w,(function(t,e){return Object(Q.a)(Object(Q.a)({},t),{},{games:[].concat(Object(Z.a)(t.games),[e])})})),rt),xt=Object(a.b)({game:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,e=arguments.length>1?arguments[1]:void 0,n=ot[e.type]||ot.DEFAULT;return n(t,e.payload)},timer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,e=arguments.length>1?arguments[1]:void 0,n=jt[e.type]||jt.DEFAULT;return n(t,e.payload)},board:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,e=arguments.length>1?arguments[1]:void 0,n=dt[e.type]||dt.DEFAULT;return n(t,e.payload)},history:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,e=arguments.length>1?arguments[1]:void 0,n=vt[e.type]||vt.DEFAULT;return n(t,e.payload)},alert:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,e=arguments.length>1?arguments[1]:void 0,n=ht[e.type]||ht.DEFAULT;return n(t,e.payload)}}),pt=n(23),yt=n(8),Et=Object(a.d)(xt,Object(a.c)(Object(a.a)(pt.a))),gt=Object(u.jsx)(yt.a,{basename:"/react-creative-memory",children:Object(u.jsx)(i.a,{store:Et,children:Object(u.jsx)(c.StrictMode,{children:Object(u.jsx)(z,{})})})}),_t=document.getElementById("root");Object(r.render)(gt,_t)}},[[43,1,2]]]);
//# sourceMappingURL=main.51b34ec3.chunk.js.map