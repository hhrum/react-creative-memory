(this["webpackJsonpreact-creative-memory"]=this["webpackJsonpreact-creative-memory"]||[]).push([[0],{32:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(14),a=n(11),i=n(5),o=n(4),u=n(1),j=function(t){var e=t.title,n=t.onClick;return Object(u.jsx)("button",{onClick:n,className:"button",children:e})},s=(n(32),function(t){var e=t.left,n=t.center,c=t.right;return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)("div",{className:"header__left",children:e}),Object(u.jsx)("div",{className:"header__center",children:n}),Object(u.jsx)("div",{className:"header__right",children:c})]})}),l=function(t){var e=t.children,n=Object(o.f)();return Object(u.jsx)("div",{style:{paddingLeft:16},onClick:function(t){t.preventDefault(),n.push("/")},children:Object(u.jsx)("span",{style:{cursor:"pointer"},children:e||"\u041d\u0430\u0437\u0430\u0434"})})},b=(n(35),function(t){var e=t.children,n=Object(o.g)();return Object(u.jsxs)("div",{className:"default-layout",children:[Object(u.jsx)(s,{left:"/"!==n.pathname?Object(u.jsx)(l,{}):null,center:Object(u.jsx)("h2",{style:{textAlign:"center"},children:"Memory"})}),Object(u.jsx)("div",{className:"default-layout__content",children:e})]})}),O=(n(36),function(t){var e=t.title,n=t.onClick;return Object(u.jsx)("button",{onClick:n,className:"button button--secondary",children:e})}),d=function(){var t=Object(o.f)();return Object(u.jsx)(b,{children:Object(u.jsxs)("div",{className:"home",children:[Object(u.jsxs)("h3",{className:"home__title",children:["\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c! ",Object(u.jsx)("br",{})," \u0425\u043e\u0442\u0438\u0442\u0435 \u043d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443?"]}),Object(u.jsxs)("div",{className:"home__btns",children:[Object(u.jsx)(j,{onClick:function(e){e.preventDefault(),t.push("/memory")},title:"\u0418\u0433\u0440\u0430\u0442\u044c"}),Object(u.jsx)(O,{onClick:function(e){e.preventDefault(),t.push("/history")},title:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0433\u0440"})]})]})})},f=n(17),h=(n(37),"game/START_SESSION"),m="game/END_SESSION",v="game/RELOAD_CARD_TO_FIND",p="game/FOUND_CARD",x="game/SET_ACTIVE_ITEM",y="timer/INIT_TIMER",E="timer/CLOSE_TIMER",_="timer/INCREMENT_TIME",g="timer/DROP_TIME";var N="board/GENERATE_BOARD",T="board/OPEN_ITEM",I="board/CLOSE_ITEM";function A(t){return function(e){setTimeout((function(){t.forEach((function(t){e(function(t){return{type:I,payload:t}}(t))}))}),500)}}var D="alert/SHOW_ALERT",S="alert/HIDE_ALERT";function C(t){return function(e){e({type:D,payload:t}),setTimeout((function(){return e({type:S})}),5e3)}}var M=function(t){var e=Math.floor(t/60),n=t%60;return"".concat(e<10?"0".concat(e):e,":").concat(n<10?"0".concat(n):n)},w="history/ADD_GAME_TO_HISTORY";function F(){return function(t,e){var n=e(),c=n.game,r=n.timer;if(c.gameSessionIsExist||(t({type:h}),t({type:v}),t({type:N})),!r.interval){var a=setInterval((function(){return t({type:_})}),1e3);t(function(t){return{type:y,payload:t}}(a))}}}function R(){return function(t,e){var n=e().timer;clearInterval(n.interval),t({type:E})}}function L(){return function(t,e){var n,c=e().timer;t(R()),t(C({title:"\u041f\u043e\u0431\u0435\u0434\u0430!",content:"\u0412\u044b \u043d\u0430\u0448\u043b\u0438 \u0432\u0441\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0437\u0430 ".concat(M(c.time))})),t((n=c.time,{type:w,payload:{time:n}})),t({type:g}),t({type:m})}}function k(t){return function(e,n){var c,r=n().game;if(e(function(t){return{type:T,payload:t}}(t)),!r.active)return e(U(t)),null;r.active.card.value===t.card.value?(e((c=t.card,{type:p,payload:c})),e((function(t,e){0===e().game.cardsToFind.length&&t(L())}))):e(A([r.active,t])),e(U(null))}}function U(t){return{type:x,payload:t}}var B=function(t){var e=t.open,n=t.item,c=Object(i.b)();if(!n)return null;return Object(u.jsx)("div",{className:"memory-item",onClick:function(t){t.preventDefault(),e||n.isOpen||c(k(n))},children:e||n.isOpen?n.card.value:null})},H=(n(38),function(t){var e=t.open,n=t.row;return Object(u.jsx)("div",{className:"board__row",children:n.map((function(t,n){return Object(u.jsx)(B,{open:e,item:t},n)}))})}),G=function(){var t=Object(i.c)((function(t){return t.board.board})),e=Object(c.useState)(!0),n=Object(f.a)(e,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){setTimeout((function(){return a(!1)}),3e3)})),Object(u.jsx)("div",{className:"board",children:t.map((function(t,e){return Object(u.jsx)(H,{open:r,row:t},e)}))})},J=function(){var t=Object(i.c)((function(t){return t.timer.time}));return Object(u.jsx)("div",{children:Object(u.jsxs)("h3",{style:{marginBottom:32},children:["\u0412\u0440\u0435\u043c\u0435\u043d\u0438 \u0443\u0436\u0435 \u043f\u0440\u043e\u0448\u043b\u043e: ",M(t)," "]})})},P=(n(39),function(){var t=Object(i.c)((function(t){return t.game})).gameSessionIsExist,e=Object(o.f)();return Object(c.useEffect)((function(){t||e.push("/")}),[t]),Object(u.jsx)(b,{children:Object(u.jsxs)("div",{className:"memory",children:[Object(u.jsx)(J,{}),Object(u.jsx)(G,{})]})})}),V=(n(40),function(){var t=Object(i.c)((function(t){return t.alert}));return t.show?Object(u.jsx)("div",{className:"alert-wrapper",children:Object(u.jsxs)("div",{className:"alert",children:[Object(u.jsx)("h3",{className:"alert__title",children:t.title}),Object(u.jsx)("div",{className:"alert__content",children:t.content})]})}):null}),W=(n(41),n(42),function(){return Object(u.jsx)("div",{children:"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0451 \u043d\u0435\u0442 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u044b\u0445 \u0438\u0433\u0440"})}),Y=function(t){var e=t.index,n=t.game;return Object(u.jsx)("div",{children:Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:Object(u.jsxs)("b",{children:[e+1,"."]})})," ",M(n.time)]})})},q=function(){var t=Object(i.c)((function(t){return t.history})).games;return 0===t.length?Object(u.jsx)(W,{}):Object(u.jsx)("div",{className:"history-list",children:t.map((function(t,e){return Object(u.jsx)(Y,{index:e,game:t})}))})},z=function(){return Object(u.jsx)(b,{children:Object(u.jsxs)("div",{className:"history",children:[Object(u.jsx)("h3",{className:"history__title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u044b\u0433\u0440\u0430\u043d\u043d\u044b\u0445 \u0432\u0430\u043c\u0438 \u0438\u0433\u0440"}),Object(u.jsx)("div",{className:"history__content",children:Object(u.jsx)(q,{})})]})})},K=function(){return Object(i.b)()(Object(o.h)("/memory")?F():R()),Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(V,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/history",children:Object(u.jsx)(z,{})}),Object(u.jsx)(o.a,{path:"/memory",children:Object(u.jsx)(P,{})}),Object(u.jsx)(o.a,{path:"/",children:Object(u.jsx)(d,{})})]})]})},Q=n(3),X=n(2),Z="DEFAULT",$=n(9),tt=[];new Array(18).fill("").forEach((function(t,e){tt.push({value:e+1})}));var et,nt,ct,rt,at,it=tt,ot=function(){return Object($.a)(it)},ut={gameSessionIsExist:!1,cardsToFind:ot(),active:null},jt=(et={},Object(Q.a)(et,Z,(function(t){return t})),Object(Q.a)(et,h,(function(t){return Object(X.a)(Object(X.a)({},t),{},{gameSessionIsExist:!0})})),Object(Q.a)(et,m,(function(t){return Object(X.a)(Object(X.a)({},t),{},{gameSessionIsExist:!1})})),Object(Q.a)(et,v,(function(t){return Object(X.a)(Object(X.a)({},t),{},{cardsToFind:ot()})})),Object(Q.a)(et,p,(function(t,e){return Object(X.a)(Object(X.a)({},t),{},{cardsToFind:t.cardsToFind.filter((function(t){return t.value!==e.value}))})})),Object(Q.a)(et,x,(function(t,e){return Object(X.a)(Object(X.a)({},t),{},{active:e})})),et),st={time:0,interval:null},lt=(nt={},Object(Q.a)(nt,Z,(function(t){return t})),Object(Q.a)(nt,y,(function(t,e){return Object(X.a)(Object(X.a)({},t),{},{interval:e})})),Object(Q.a)(nt,E,(function(t){return Object(X.a)(Object(X.a)({},t),{},{interval:null})})),Object(Q.a)(nt,_,(function(t){return Object(X.a)(Object(X.a)({},t),{},{time:t.time+1})})),Object(Q.a)(nt,g,(function(t){return Object(X.a)(Object(X.a)({},t),{},{time:0})})),nt),bt=function(){return new Array(6).fill(null).map((function(t){return new Array(6).fill(null)}))},Ot=function(t,e,n){var c=Math.floor(Math.random()*e.length),r=Object(f.a)(e.splice(c,1)[0],2),a=r[0],i=r[1];t[a][i]=function(t,e,n){return{isOpen:!1,x:t,y:e,card:n}}(a,i,n)},dt=function(t,e){var n=Object($.a)(t[e.x]);n[e.y]=e;var c=Object($.a)(t);return c[e.x]=n,c},ft={board:bt()},ht=(ct={},Object(Q.a)(ct,Z,(function(t){return t})),Object(Q.a)(ct,N,(function(t){var e=bt(),n=[];return e.forEach((function(t,e){t.forEach((function(t,c){n.push([e,c])}))})),it.forEach((function(t){Ot(e,n,t),Ot(e,n,t)})),Object(X.a)(Object(X.a)({},t),{},{board:e})})),Object(Q.a)(ct,T,(function(t,e){var n=dt(t.board,Object(X.a)(Object(X.a)({},e),{},{isOpen:!0}));return Object(X.a)(Object(X.a)({},t),{},{board:n})})),Object(Q.a)(ct,I,(function(t,e){var n=dt(t.board,Object(X.a)(Object(X.a)({},e),{},{isOpen:!1}));return Object(X.a)(Object(X.a)({},t),{},{board:n})})),ct),mt={show:!1,title:null,content:null},vt=(rt={},Object(Q.a)(rt,Z,(function(t){return t})),Object(Q.a)(rt,D,(function(t,e){return Object(X.a)(Object(X.a)(Object(X.a)({},t),e),{},{show:!0})})),Object(Q.a)(rt,S,(function(t){return Object(X.a)(Object(X.a)({},t),{},{show:!1})})),rt),pt={games:[]},xt=(at={},Object(Q.a)(at,Z,(function(t){return t})),Object(Q.a)(at,w,(function(t,e){return Object(X.a)(Object(X.a)({},t),{},{games:[].concat(Object($.a)(t.games),[e])})})),at),yt=Object(a.b)({game:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,e=arguments.length>1?arguments[1]:void 0,n=jt[e.type]||jt.DEFAULT;return n(t,e.payload)},timer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,e=arguments.length>1?arguments[1]:void 0,n=lt[e.type]||lt.DEFAULT;return n(t,e.payload)},board:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,e=arguments.length>1?arguments[1]:void 0,n=ht[e.type]||ht.DEFAULT;return n(t,e.payload)},history:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,e=arguments.length>1?arguments[1]:void 0,n=xt[e.type]||xt.DEFAULT;return n(t,e.payload)},alert:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,e=arguments.length>1?arguments[1]:void 0,n=vt[e.type]||vt.DEFAULT;return n(t,e.payload)}}),Et=n(23),_t=n(8),gt=Object(a.d)(yt,Object(a.c)(Object(a.a)(Et.a))),Nt=Object(u.jsx)(_t.a,{basename:"/react-creative-memory",children:Object(u.jsx)(i.a,{store:gt,children:Object(u.jsx)(c.StrictMode,{children:Object(u.jsx)(K,{})})})}),Tt=document.getElementById("root");Object(r.render)(Nt,Tt)}},[[43,1,2]]]);
//# sourceMappingURL=main.3105b47b.chunk.js.map